<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Proceso de Estudio con IA — NotebookLM</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Phosphor Icons para iconografía -->
    <script src="https://unpkg.com/@phosphor-icons/web"></script>
    <!-- Mermaid.js para renderizar el diagrama de flujo -->
    <script src="https://cdn.jsdelivr.net/npm/mermaid@10.6.1/dist/mermaid.min.js"></script>
    <style>
        /* Estilos personalizados para el contenedor del diagrama y el zoom */
        #diagram-container {
            cursor: grab;
            overflow: auto;
            position: relative;
            background-color: #f8fafc;
            background-image: radial-gradient(#cbd5e1 1px, transparent 1px);
            background-size: 20px 20px;
        }

        #diagram-container:active {
            cursor: grabbing;
        }

        #mermaid-wrapper {
            transform-origin: top center;
            transition: transform 0.2s ease-out;
            min-height: 100%;
            display: flex;
            justify-content: center;
            align-items: flex-start;
            padding: 2rem;
        }

        /* Ajustes específicos de Mermaid para mejor legibilidad */
        .mermaid svg {
            max-width: none !important;
            height: auto;
            filter: drop-shadow(0 4px 6px rgba(0, 0, 0, 0.1));
        }

        /* Custom scrollbar para la barra lateral */
        ::-webkit-scrollbar {
            width: 8px;
            height: 8px;
        }

        ::-webkit-scrollbar-track {
            background: #f1f5f9;
            border-radius: 4px;
        }

        ::-webkit-scrollbar-thumb {
            background: #cbd5e1;
            border-radius: 4px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: #94a3b8;
        }
    </style>
</head>

<body class="bg-slate-50 text-slate-800 h-screen flex flex-col font-sans overflow-hidden">

    <!-- Header -->
    <header
        class="bg-white border-b border-slate-200 px-6 py-4 flex flex-col sm:flex-row justify-between items-center shadow-sm z-10 shrink-0">
        <a href="index.html"
            class="flex items-center gap-3 mb-2 sm:mb-0 hover:opacity-75 transition-opacity duration-200"
            title="Volver a la página principal">
            <div class="bg-emerald-600 text-white p-2 rounded-lg">
                <i class="ph ph-robot text-2xl"></i>
            </div>
            <div>
                <h1 class="text-xl font-bold text-slate-900 leading-tight">Proceso de Estudio con IA — NotebookLM</h1>
                <p class="text-xs text-slate-500 font-medium">Versión 2.0 • Módulo: Digitalización aplicada a los
                    sectores productivos</p>
            </div>
        </a>
        <div class="text-right flex items-center gap-2 bg-slate-100 py-1.5 px-3 rounded-full border border-slate-200">
            <i class="ph ph-user-circle text-slate-500 text-lg"></i>
            <span class="text-sm font-semibold text-slate-700">Autor: CARLOS GUARACA NAGUA (RA4_A03 - Aplicar la
                IA)</span>
        </div>
    </header>

    <!-- Main Content Layout -->
    <main class="flex-1 flex flex-col lg:flex-row overflow-hidden">

        <!-- Left Area: Diagram Viewer -->
        <section class="flex-1 flex flex-col relative border-r border-slate-200 min-h-[50vh] lg:min-h-0 bg-slate-50">

            <!-- Toolbar Overlay -->
            <div
                class="absolute top-4 right-4 z-10 flex flex-col gap-2 bg-white/90 backdrop-blur p-1.5 rounded-xl shadow-md border border-slate-200">
                <button onclick="zoomIn()"
                    class="p-2 text-slate-700 hover:text-emerald-600 hover:bg-emerald-50 rounded-lg transition-colors"
                    title="Acercar">
                    <i class="ph ph-magnifying-glass-plus text-xl"></i>
                </button>
                <div class="h-px bg-slate-200 w-full"></div>
                <button onclick="zoomOut()"
                    class="p-2 text-slate-700 hover:text-emerald-600 hover:bg-emerald-50 rounded-lg transition-colors"
                    title="Alejar">
                    <i class="ph ph-magnifying-glass-minus text-xl"></i>
                </button>
                <div class="h-px bg-slate-200 w-full"></div>
                <button onclick="resetZoom()"
                    class="p-2 text-slate-700 hover:text-emerald-600 hover:bg-emerald-50 rounded-lg transition-colors"
                    title="Restablecer vista">
                    <i class="ph ph-arrows-out-simple text-xl"></i>
                </button>
            </div>

            <div
                class="absolute top-4 left-4 z-10 bg-white/90 backdrop-blur px-3 py-1.5 rounded-lg shadow-sm border border-slate-200 text-sm font-medium text-slate-600 flex items-center gap-2">
                <i class="ph ph-info text-emerald-600"></i>
                Arrastra para mover el diagrama
            </div>

            <!-- Flowchart Container -->
            <div id="diagram-container" class="w-full h-full">
                <div id="mermaid-wrapper">
                    <div class="mermaid" id="mermaid-graph">
                        %%{init: {'theme': 'base', 'themeVariables': { 'fontFamily': 'ui-sans-serif, system-ui,
                        -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif'
                        }}}%%
                        graph TD
                        %% Nodos
                        N01([INICIO])
                        N02[/Recibir tema o materia a estudiar/]
                        N03[Revisar los objetivos<br>de aprendizaje del tema]
                        N04[Abrir NotebookLM y<br>crear un nuevo cuaderno]
                        N05{Material disponible<br>en formato digital}
                        N05a[Digitalizar o localizar<br>el material en PDF o texto]
                        N06[Subir fuentes a NotebookLM<br>PDF, apuntes, URL]
                        N07{NotebookLM ha procesado<br>correctamente las fuentes}
                        N07a[Revisar el formato del<br>archivo y volver a subir]
                        N08[Solicitar a NotebookLM<br>un resumen del tema]
                        N09[IA genera resumen<br>estructurado automaticamente]
                        N10{El resumen cubre todos<br>los objetivos de aprendizaje}
                        N10a[Pedir a NotebookLM que amplie<br>o aclare los puntos faltantes]
                        N11[Solicitar a NotebookLM<br>preguntas clave del tema]
                        N12[IA genera listado de<br>preguntas de estudio]
                        N13[Estudiar el bloque actual usando<br>el resumen y las preguntas de la IA]
                        N14{Se ha comprendido<br>el bloque actual}
                        N14a[Pedir a NotebookLM una<br>explicacion mas sencilla]
                        N15[Usar el Audio Overview de<br>NotebookLM para repasar]
                        N16[Descanso activo de 10 min<br>tecnica Pomodoro]
                        N17{Quedan mas bloques de<br>contenido por estudiar}
                        N18[Pasar al siguiente<br>bloque de contenido]
                        N19[Solicitar a NotebookLM un<br>test de autoevaluacion]
                        N20[IA genera test de preguntas<br>con respuestas correctas]
                        N21[Responder el test<br>generado por la IA]
                        N22[/Registrar aciertos y<br>errores del test/]
                        N23{Ha superado el test<br>con exito mayor al 80%}
                        N23a[Pedir a NotebookLM que<br>explique los errores cometidos]
                        N24[Solicitar a NotebookLM un<br>mapa conceptual del tema]
                        N25[IA genera esquema visual<br>y mapa conceptual]
                        N26[Exportar y guardar los resumenes<br>y apuntes generados por la IA]
                        N27[Planificar la proxima sesion<br>de repaso con NotebookLM]
                        N28[/Resultado: Tema dominado<br>con apoyo de IA/]
                        N29([FIN])

                        %% Conexiones principales
                        N01 --> N02 --> N03 --> N04 --> N05
                        N05 -- SI --> N06 --> N07
                        N07 -- SI --> N08 --> N09 --> N10
                        N10 -- SI --> N11 --> N12 --> N13 --> N14
                        N14 -- SI --> N15 --> N16 --> N17
                        N17 -- NO --> N19 --> N20 --> N21 --> N22 --> N23
                        N23 -- SI --> N24 --> N25 --> N26 --> N27 --> N28 --> N29

                        %% Conexiones de Bucles (NO y Retornos)
                        N05 -- NO --> N05a -.->|digitalizar| N05
                        N07 -- NO --> N07a -.->|reintentar subida| N06
                        N10 -- NO --> N10a -.->|ampliar resumen| N08
                        N14 -- NO --> N14a -.->|pedir aclaracion| N13
                        N17 -- SI --> N18 -.->|sig. bloque| N13
                        N23 -- NO --> N23a -.->|reforzar errores| N13

                        %% Estilos de Nodos
                        classDef oval fill:#065f46,stroke:#022c22,stroke-width:2px,color:#fff,rx:20,ry:20;
                        classDef rect_est fill:#059669,stroke:#064e3b,stroke-width:2px,color:#fff,rx:5,ry:5;
                        classDef rect_ia fill:#34d399,stroke:#064e3b,stroke-width:2px,color:#064e3b,rx:5,ry:5;
                        classDef rombo fill:#0284c7,stroke:#082f49,stroke-width:2px,color:#fff;
                        classDef paral fill:#bae6fd,stroke:#0284c7,stroke-width:2px,color:#0f172a;
                        classDef loop_act fill:#fbbf24,stroke:#78350f,stroke-width:2px,color:#111,rx:5,ry:5;
                        classDef break_node fill:#8b5cf6,stroke:#4c1d95,stroke-width:2px,color:#fff,rx:5,ry:5;

                        %% Asignación de clases
                        class N01,N29 oval;
                        class N03,N04,N06,N08,N11,N13,N15,N19,N21,N24,N26,N27 rect_est;
                        class N09,N12,N20,N25 rect_ia;
                        class N05,N07,N10,N14,N17,N23 rombo;
                        class N02,N22,N28 paral;
                        class N05a,N07a,N10a,N14a,N18,N23a loop_act;
                        class N16 break_node;
                    </div>
                </div>
            </div>
        </section>

        <!-- Right Area: Details & Stats Sidebar -->
        <aside class="w-full lg:w-96 bg-white overflow-y-auto shadow-[-4px_0_15px_-3px_rgba(0,0,0,0.05)] z-10">
            <div class="p-6 space-y-8">

                <!-- Descripción -->
                <div>
                    <h2 class="text-sm uppercase tracking-wider font-bold text-slate-400 mb-2 flex items-center gap-2">
                        <i class="ph ph-text-align-left text-lg"></i> Descripción
                    </h2>
                    <p class="text-slate-600 text-sm leading-relaxed">
                        Diagrama de flujo profesional que describe el proceso de estudio utilizando <strong
                            class="text-emerald-700">NotebookLM de Google</strong>. Muestra cómo el estudiante
                        interactúa con la IA, qué tareas son generadas automáticamente por el sistema y el árbol de
                        decisiones según la norma ISO 5807.
                    </p>
                </div>

                <!-- Simbología y Leyenda -->
                <div>
                    <h2 class="text-sm uppercase tracking-wider font-bold text-slate-400 mb-3 flex items-center gap-2">
                        <i class="ph ph-palette text-lg"></i> Simbología y Leyenda
                    </h2>
                    <div class="space-y-3">
                        <div class="flex items-center gap-3 text-sm">
                            <div
                                class="w-8 h-5 rounded-full bg-[#065f46] border border-[#022c22] shadow-sm flex-shrink-0">
                            </div>
                            <span class="text-slate-700"><strong>Óvalo:</strong> Inicio/Fin</span>
                        </div>
                        <div class="flex items-center gap-3 text-sm">
                            <div class="w-8 h-5 rounded bg-[#059669] border border-[#064e3b] shadow-sm flex-shrink-0">
                            </div>
                            <span class="text-slate-700"><strong>Rectángulo:</strong> Acción del Estudiante</span>
                        </div>
                        <div class="flex items-center gap-3 text-sm">
                            <div class="w-8 h-5 rounded bg-[#34d399] border border-[#064e3b] shadow-sm flex-shrink-0">
                            </div>
                            <span class="text-slate-700"><strong>Rectángulo (Mentol):</strong> Proceso automático
                                IA</span>
                        </div>
                        <div class="flex items-center gap-3 text-sm">
                            <div
                                class="w-8 h-5 transform rotate-45 bg-[#0284c7] border border-[#082f49] shadow-sm flex-shrink-0 mx-1 w-[20px] h-[20px]">
                            </div>
                            <span class="text-slate-700 pl-1"><strong>Rombo:</strong> Decisión de Flujo (SÍ/NO)</span>
                        </div>
                        <div class="flex items-center gap-3 text-sm">
                            <div
                                class="w-8 h-5 bg-[#bae6fd] border border-[#0284c7] shadow-sm flex-shrink-0 skew-x-[-15deg] ml-1">
                            </div>
                            <span class="text-slate-700"><strong>Paralelogramo:</strong> Entrada/Salida</span>
                        </div>
                        <div class="flex items-center gap-3 text-sm">
                            <div class="w-8 h-5 rounded bg-[#fbbf24] border border-[#78350f] shadow-sm flex-shrink-0">
                            </div>
                            <span class="text-slate-700"><strong>Acción de Retorno:</strong> Tarea de bucle</span>
                        </div>
                        <div class="flex items-center gap-3 text-sm">
                            <div class="w-8 h-5 rounded bg-[#8b5cf6] border border-[#4c1d95] shadow-sm flex-shrink-0">
                            </div>
                            <span class="text-slate-700"><strong>Descanso:</strong> Pausa Activa</span>
                        </div>
                    </div>
                </div>

                <!-- Bucles Identificados -->
                <div>
                    <h2 class="text-sm uppercase tracking-wider font-bold text-slate-400 mb-3 flex items-center gap-2">
                        <i class="ph ph-arrows-clockwise text-lg"></i> Bucles Críticos (6)
                    </h2>
                    <div class="space-y-3">
                        <div class="bg-amber-50 border border-amber-100 p-3 rounded-lg">
                            <h3 class="text-sm font-bold text-amber-800">1. Material no digitalizado (N05)</h3>
                            <p class="text-xs text-amber-700 mt-1">Retorno a digitalizar hasta tener el formato
                                adecuado.</p>
                        </div>
                        <div class="bg-amber-50 border border-amber-100 p-3 rounded-lg">
                            <h3 class="text-sm font-bold text-amber-800">2. Error en fuentes (N07)</h3>
                            <p class="text-xs text-amber-700 mt-1">Reintentar subida si NotebookLM no procesa el
                                archivo.</p>
                        </div>
                        <div class="bg-amber-50 border border-amber-100 p-3 rounded-lg">
                            <h3 class="text-sm font-bold text-amber-800">3. Resumen incompleto (N10)</h3>
                            <p class="text-xs text-amber-700 mt-1">Se solicita a la IA ampliar la información faltante.
                            </p>
                        </div>
                        <div class="bg-amber-50 border border-amber-100 p-3 rounded-lg">
                            <h3 class="text-sm font-bold text-amber-800">4. Bloque no comprendido (N14)</h3>
                            <p class="text-xs text-amber-700 mt-1">Petición de aclaración más sencilla a NotebookLM.</p>
                        </div>
                        <div class="bg-amber-50 border border-amber-100 p-3 rounded-lg">
                            <h3 class="text-sm font-bold text-amber-800">5. Avance por bloques (N17)</h3>
                            <p class="text-xs text-amber-700 mt-1">Bucle iterativo positivo para saltar al siguiente
                                apartado.</p>
                        </div>
                        <div class="bg-amber-50 border border-amber-100 p-3 rounded-lg">
                            <h3 class="text-sm font-bold text-amber-800">6. Test fallido (N23)</h3>
                            <p class="text-xs text-amber-700 mt-1">Refuerzo guiado por IA sobre los errores antes de
                                repetir.</p>
                        </div>
                    </div>
                </div>

                <!-- Estadísticas -->
                <div>
                    <h2 class="text-sm uppercase tracking-wider font-bold text-slate-400 mb-3 flex items-center gap-2">
                        <i class="ph ph-chart-bar text-lg"></i> Estadísticas del Proceso
                    </h2>
                    <div class="grid grid-cols-2 gap-3">
                        <div class="bg-slate-50 border border-slate-200 p-3 rounded-lg text-center">
                            <span class="block text-2xl font-black text-slate-700">29</span>
                            <span class="text-[10px] uppercase font-bold text-slate-500">Nodos Totales</span>
                        </div>
                        <div class="bg-emerald-50 border border-emerald-200 p-3 rounded-lg text-center">
                            <span class="block text-2xl font-black text-emerald-600">12</span>
                            <span class="text-[10px] uppercase font-bold text-emerald-700">Acciones Estudiante</span>
                        </div>
                        <div class="bg-emerald-100 border border-emerald-300 p-3 rounded-lg text-center">
                            <span class="block text-2xl font-black text-emerald-800">4</span>
                            <span class="text-[10px] uppercase font-bold text-emerald-900">Procesos IA</span>
                        </div>
                        <div class="bg-sky-50 border border-sky-200 p-3 rounded-lg text-center">
                            <span class="block text-2xl font-black text-sky-600">6</span>
                            <span class="text-[10px] uppercase font-bold text-sky-700">Decisiones</span>
                        </div>
                    </div>
                </div>
            </div>
        </aside>
    </main>

    <script>
        // Inicializar Mermaid.js
        mermaid.initialize({
            startOnLoad: true,
            securityLevel: 'loose',
            theme: 'default',
            flowchart: {
                htmlLabels: true,
                curve: 'basis'
            }
        });

        // Lógica de Zoom y Paneo para el contenedor del diagrama
        let currentZoom = 1;
        const zoomStep = 0.15;
        const maxZoom = 2.5;
        const minZoom = 0.4;

        const wrapper = document.getElementById('mermaid-wrapper');
        const container = document.getElementById('diagram-container');

        function updateZoom() {
            wrapper.style.transform = `scale(${currentZoom})`;
        }

        function zoomIn() {
            if (currentZoom < maxZoom) {
                currentZoom += zoomStep;
                updateZoom();
            }
        }

        function zoomOut() {
            if (currentZoom > minZoom) {
                currentZoom -= zoomStep;
                updateZoom();
            }
        }

        function resetZoom() {
            currentZoom = 1;
            updateZoom();
            container.scrollTo({ top: 0, left: container.scrollWidth / 2 - container.clientWidth / 2, behavior: 'smooth' });
        }

        // Lógica de arrastre (Pan) con el ratón
        let isDragging = false;
        let startX, startY, scrollLeft, scrollTop;

        container.addEventListener('mousedown', (e) => {
            isDragging = true;
            container.classList.add('cursor-grabbing');
            startX = e.pageX - container.offsetLeft;
            startY = e.pageY - container.offsetTop;
            scrollLeft = container.scrollLeft;
            scrollTop = container.scrollTop;
        });

        container.addEventListener('mouseleave', () => {
            isDragging = false;
            container.classList.remove('cursor-grabbing');
        });

        container.addEventListener('mouseup', () => {
            isDragging = false;
            container.classList.remove('cursor-grabbing');
        });

        container.addEventListener('mousemove', (e) => {
            if (!isDragging) return;
            e.preventDefault();
            const x = e.pageX - container.offsetLeft;
            const y = e.pageY - container.offsetTop;
            const walkX = (x - startX) * 1.5; // Velocidad de arrastre
            const walkY = (y - startY) * 1.5;
            container.scrollLeft = scrollLeft - walkX;
            container.scrollTop = scrollTop - walkY;
        });

        // Centrar el gráfico al cargar (pequeño retraso para asegurar que Mermaid termine de renderizar)
        setTimeout(() => {
            container.scrollLeft = (container.scrollWidth - container.clientWidth) / 2;
        }, 500);

    </script>
</body>

</html>